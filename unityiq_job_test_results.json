{
  "summary": {
    "total_tests": 24,
    "passed_tests": 23,
    "success_rate": 95.83333333333334
  },
  "detailed_results": [
    {
      "test": "Setup: VIEWER Email Verified",
      "success": true,
      "details": "Email verified successfully",
      "timestamp": "2025-10-20T22:36:15.646504"
    },
    {
      "test": "Setup: VIEWER Login",
      "success": true,
      "details": "Login successful for viewer_1760999774@example.com",
      "timestamp": "2025-10-20T22:36:15.909658"
    },
    {
      "test": "Setup: ANALYST Email Verified",
      "success": true,
      "details": "Email verified successfully",
      "timestamp": "2025-10-20T22:36:17.237372"
    },
    {
      "test": "Setup: ANALYST Login",
      "success": true,
      "details": "Login successful for analyst_1760999775@example.com",
      "timestamp": "2025-10-20T22:36:17.496625"
    },
    {
      "test": "Setup: Org1 Created",
      "success": true,
      "details": "Org 'TestOrg1_1760999777' created with ID 62d45857-0a9c-412b-bcf7-134ba43da3a4",
      "timestamp": "2025-10-20T22:36:17.532355"
    },
    {
      "test": "Setup: Org2 Created",
      "success": true,
      "details": "Org 'TestOrg2_1760999777' created with ID 3c82de7b-a2bc-4658-b3da-ba11191207f3",
      "timestamp": "2025-10-20T22:36:17.572818"
    },
    {
      "test": "Setup: VIEWER Invited to Org1",
      "success": true,
      "details": "Invited viewer_1760999774@example.com as VIEWER to TestOrg1_1760999777",
      "timestamp": "2025-10-20T22:36:17.611252"
    },
    {
      "test": "Setup: VIEWER Accepted Invite",
      "success": true,
      "details": "Invite accepted by viewer_1760999774@example.com",
      "timestamp": "2025-10-20T22:36:18.726578"
    },
    {
      "test": "RBAC: VIEWER Cannot Start Job",
      "success": true,
      "details": "VIEWER correctly denied sync-jobs/start access",
      "timestamp": "2025-10-20T22:36:18.764067"
    },
    {
      "test": "RBAC: ANALYST Can Start Job",
      "success": true,
      "details": "ANALYST successfully started job: JOB_bc31a0d4-5806-4260-a541-f640ff374e8c",
      "timestamp": "2025-10-20T22:36:18.802948"
    },
    {
      "test": "RBAC: VIEWER Can Get Job",
      "success": true,
      "details": "VIEWER can access job details: JOB_bc31a0d4-5806-4260-a541-f640ff374e8c",
      "timestamp": "2025-10-20T22:36:18.877767"
    },
    {
      "test": "RBAC: VIEWER Can Get Latest",
      "success": true,
      "details": "VIEWER can access latest job",
      "timestamp": "2025-10-20T22:36:18.915181"
    },
    {
      "test": "Rate Limit: Mutations Allowed",
      "success": true,
      "details": "Mutation rate limit working: 3/3 succeeded",
      "timestamp": "2025-10-20T22:36:19.326059"
    },
    {
      "test": "Rate Limit: Reads Allowed",
      "success": true,
      "details": "Read rate limit working: 5/5 succeeded",
      "timestamp": "2025-10-20T22:36:20.031350"
    },
    {
      "test": "Idempotency: Second Job Returns Existing",
      "success": true,
      "details": "Idempotency working: same job_id JOB_bc31a0d4-5806-4260-a541-f640ff374e8c, status: existing",
      "timestamp": "2025-10-20T22:36:20.107217"
    },
    {
      "test": "Phase Progression: Phases Correct",
      "success": false,
      "details": "Expected phases: ['queued', 'discover', 'ingest', 'metrics', 'alerts', 'done'], observed: ['ingest', 'metrics', 'done']",
      "timestamp": "2025-10-20T22:36:24.330978"
    },
    {
      "test": "Phase Progression: Progress Increases",
      "success": true,
      "details": "Progress increased to 1.0",
      "timestamp": "2025-10-20T22:36:24.330998"
    },
    {
      "test": "Phase Progression: ETA Decreases",
      "success": true,
      "details": "ETA values: [140, 110, 80, 20]",
      "timestamp": "2025-10-20T22:36:24.331007"
    },
    {
      "test": "Latest Helper: Without Type Filter",
      "success": true,
      "details": "Latest job found: JOB_4edfc81b-0d81-4cc7-9b5e-0dd25d082741",
      "timestamp": "2025-10-20T22:36:24.388248"
    },
    {
      "test": "Latest Helper: With Type Filter",
      "success": true,
      "details": "Latest all_refresh job found: JOB_bc31a0d4-5806-4260-a541-f640ff374e8c",
      "timestamp": "2025-10-20T22:36:24.422023"
    },
    {
      "test": "Errors Array: No Errors Found",
      "success": true,
      "details": "No errors in job (good)",
      "timestamp": "2025-10-20T22:36:24.455549"
    },
    {
      "test": "Multi-tenant Safety: Cross-org Access Denied",
      "success": true,
      "details": "Correctly returned 404 for cross-org job access",
      "timestamp": "2025-10-20T22:36:24.524540"
    },
    {
      "test": "Telemetry: Job Started",
      "success": true,
      "details": "Job started (refresh_start telemetry should be logged): JOB_fa6280a4-11a8-4c97-81e1-97fbf58882ad",
      "timestamp": "2025-10-20T22:36:24.559867"
    },
    {
      "test": "Telemetry: Job Completed",
      "success": true,
      "details": "Job completed (refresh_done telemetry should be logged)",
      "timestamp": "2025-10-20T22:36:29.619039"
    }
  ],
  "test_data": {
    "users": {
      "viewer_1760999774@example.com": {
        "email": "viewer_1760999774@example.com",
        "password": "ViewerPass123!",
        "role": "VIEWER",
        "verified": true
      },
      "analyst_1760999775@example.com": {
        "email": "analyst_1760999775@example.com",
        "password": "AnalystPass123!",
        "role": "ANALYST",
        "verified": true
      }
    },
    "orgs": {
      "TestOrg1_1760999777": {
        "org_id": "62d45857-0a9c-412b-bcf7-134ba43da3a4",
        "name": "TestOrg1_1760999777",
        "owner": "analyst_1760999775@example.com"
      },
      "TestOrg2_1760999777": {
        "org_id": "3c82de7b-a2bc-4658-b3da-ba11191207f3",
        "name": "TestOrg2_1760999777",
        "owner": "viewer_1760999774@example.com"
      }
    }
  }
}